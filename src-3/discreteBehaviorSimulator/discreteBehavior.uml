<?xml version="1.0" encoding="UTF-8"?>
<xmi:XMI xmi:version="20131001" xmlns:xmi="http://www.omg.org/spec/XMI/20131001" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:UMLLabProfile="http:///schemas/UMLLabProfile/NS/0" xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore" xmlns:uml="http://www.eclipse.org/uml2/5.0.0/UML" xsi:schemaLocation="http:///schemas/UMLLabProfile/NS/0 pathmap://UMLLAB_PROFILES/UMLLab.profile.uml#UMLLabProfile-Annotation_2-UMLLabProfile">
  <uml:Model xmi:id="_tMrhMNxgEe6zL95jRs6BlA" name="discreteBehavior">
    <eAnnotations xmi:id="_tWuOANxgEe6zL95jRs6BlA" source="http://ns.yatta.de/umllab">
      <contents xmi:type="ecore:EAnnotation" xmi:id="_tWu1ENxgEe6zL95jRs6BlA" source="codegen">
        <details xmi:id="_tWu1EdxgEe6zL95jRs6BlA" key="codegenDirectory" value="/Projet/src-3"/>
        <details xmi:id="_tpIMoNxgEe6zL95jRs6BlA" key="AssociatedSourceCode" value="/Projet/src-3/discreteBehaviorSimulator/Clock.java;3445511511/1;/Projet/src-3/discreteBehaviorSimulator/ClockObserver.java;3894183262/1;/Projet/src-3/discreteBehaviorSimulator/DiscreteActionSimulator.java;4078291127/1;/Projet/src-3/discreteBehaviorSimulator/LogFormatter.java;2111516375/1;"/>
      </contents>
    </eAnnotations>
    <elementImport xmi:id="_thSfQNxgEe6zL95jRs6BlA">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
    </elementImport>
    <elementImport xmi:id="_thTGUNxgEe6zL95jRs6BlA">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#byte"/>
    </elementImport>
    <elementImport xmi:id="_thTGUdxgEe6zL95jRs6BlA">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
    </elementImport>
    <elementImport xmi:id="_thTGUtxgEe6zL95jRs6BlA">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
    </elementImport>
    <elementImport xmi:id="_thTGU9xgEe6zL95jRs6BlA">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
    </elementImport>
    <elementImport xmi:id="_thTGVNxgEe6zL95jRs6BlA">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
    </elementImport>
    <elementImport xmi:id="_thTGVdxgEe6zL95jRs6BlA">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
    </elementImport>
    <elementImport xmi:id="_thTtYNxgEe6zL95jRs6BlA">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#short"/>
    </elementImport>
    <elementImport xmi:id="_thTtYdxgEe6zL95jRs6BlA">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
    </elementImport>
    <packagedElement xmi:type="uml:Package" xmi:id="_thUUcNxgEe6zL95jRs6BlA" name="java">
      <packagedElement xmi:type="uml:Package" xmi:id="_thU7gNxgEe6zL95jRs6BlA" name="util">
        <packagedElement xmi:type="uml:Package" xmi:id="_thU7gdxgEe6zL95jRs6BlA" name="concurrent">
          <packagedElement xmi:type="uml:Package" xmi:id="_thU7gtxgEe6zL95jRs6BlA" name="locks">
            <packagedElement xmi:type="uml:Class" xmi:id="_tk07cdxgEe6zL95jRs6BlA" name="ReentrantReadWriteLock"/>
          </packagedElement>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_thghsdxgEe6zL95jRs6BlA" name="logging">
          <packagedElement xmi:type="uml:Class" xmi:id="_tk8QMNxgEe6zL95jRs6BlA" name="ConsoleHandler"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tk9eUdxgEe6zL95jRs6BlA" name="FileHandler"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tk-FYdxgEe6zL95jRs6BlA" name="Level"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tk-scdxgEe6zL95jRs6BlA" name="Logger"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tlEzEdxgEe6zL95jRs6BlA" name="Formatter"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tlFaIdxgEe6zL95jRs6BlA" name="Handler"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tlGoQdxgEe6zL95jRs6BlA" name="LogRecord"/>
        </packagedElement>
        <packagedElement xmi:type="uml:DataType" xmi:id="_tkx4INxgEe6zL95jRs6BlA" name="Date"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_tkztUdxgEe6zL95jRs6BlA" name="HashSet"/>
        <packagedElement xmi:type="uml:Interface" xmi:id="_tk0UYdxgEe6zL95jRs6BlA" name="Set"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_tk6bANxgEe6zL95jRs6BlA" name="Collections"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_tk7CEdxgEe6zL95jRs6BlA" name="Vector"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_thf6oNxgEe6zL95jRs6BlA" name="lang">
        <packagedElement xmi:type="uml:Package" xmi:id="_thghsNxgEe6zL95jRs6BlA" name="reflect">
          <packagedElement xmi:type="uml:Class" xmi:id="_tk5M4NxgEe6zL95jRs6BlA" name="Method"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_tlK5sNxgEe6zL95jRs6BlA" name="Exception"/>
        <packagedElement xmi:type="uml:Interface" xmi:id="_tlPLINxgEe6zL95jRs6BlA" name="Runnable"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_tlRnYNxgEe6zL95jRs6BlA" name="Thread"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_thproNxgEe6zL95jRs6BlA" name="text">
        <packagedElement xmi:type="uml:Class" xmi:id="_tlEMANxgEe6zL95jRs6BlA" name="SimpleDateFormat"/>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_thabENxgEe6zL95jRs6BlA" name="discreteBehaviorSimulator">
      <packagedElement xmi:type="uml:Class" xmi:id="_th48MNxgEe6zL95jRs6BlA" name="Clock">
        <ownedAttribute xmi:id="_tlXuANxgEe6zL95jRs6BlA" name="instance" isStatic="true" type="_th48MNxgEe6zL95jRs6BlA" isReadOnly="true" association="_tlvhcNxgEe6zL95jRs6BlA">
          <defaultValue xmi:type="uml:LiteralString" xmi:id="_tlYVEdxgEe6zL95jRs6BlA" value="null"/>
        </ownedAttribute>
        <ownedAttribute xmi:id="_tlZjMdxgEe6zL95jRs6BlA" name="time" isReadOnly="true">
          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
        </ownedAttribute>
        <ownedAttribute xmi:id="_tlaxUtxgEe6zL95jRs6BlA" name="nextJump" visibility="private">
          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
        </ownedAttribute>
        <ownedAttribute xmi:id="_tlb_cNxgEe6zL95jRs6BlA" name="lock" visibility="private" type="_tk07cdxgEe6zL95jRs6BlA" association="_tlwvkdxgEe6zL95jRs6BlA"/>
        <ownedAttribute xmi:id="_tlb_ctxgEe6zL95jRs6BlA" name="virtual">
          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
        </ownedAttribute>
        <ownedAttribute xmi:id="_tlcmgNxgEe6zL95jRs6BlA" name="observers" visibility="private" type="_tiEiYNxgEe6zL95jRs6BlA" association="_tlxWodxgEe6zL95jRs6BlA">
          <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_tlcmgdxgEe6zL95jRs6BlA" value="*"/>
        </ownedAttribute>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tllwctxgEe6zL95jRs6BlA" name="Clock" specification="_th8mkNxgEe6zL95jRs6BlA">
          <ownedParameter xmi:id="_tllwc9xgEe6zL95jRs6BlA" type="_th48MNxgEe6zL95jRs6BlA" direction="return"/>
          <language>java</language>
          <body>this.time = 0;&#xD;
		this.nextJump=0;&#xD;
		this.lock = new ReentrantReadWriteLock();&#xD;
		this.virtual = true;&#xD;
		this.observers = new HashSet&lt;ClockObserver>();&#xD;
	</body>
        </ownedBehavior>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tlmXgNxgEe6zL95jRs6BlA" name="addObserver" specification="_tk2JkNxgEe6zL95jRs6BlA">
          <ownedParameter xmi:id="_tlmXgdxgEe6zL95jRs6BlA" name="o" type="_tiEiYNxgEe6zL95jRs6BlA"/>
          <language>java</language>
          <body>this.observers.add(o);&#xD;
	</body>
        </ownedBehavior>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tlmXgtxgEe6zL95jRs6BlA" name="removeObserver" specification="_tk2wodxgEe6zL95jRs6BlA">
          <ownedParameter xmi:id="_tlmXg9xgEe6zL95jRs6BlA" name="o" type="_tiEiYNxgEe6zL95jRs6BlA"/>
          <language>java</language>
          <body>this.observers.remove(o);&#xD;
	</body>
        </ownedBehavior>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tlmXhNxgEe6zL95jRs6BlA" name="setNextJump" specification="_th90sNxgEe6zL95jRs6BlA">
          <ownedParameter xmi:id="_tlmXhdxgEe6zL95jRs6BlA" name="nextJump">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
          </ownedParameter>
          <language>java</language>
          <body>this.nextJump = nextJump;&#xD;
		for(ClockObserver o:this.observers) {&#xD;
			o.nextClockChange(this.nextJump);&#xD;
		}&#xD;
	</body>
        </ownedBehavior>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tlmXhtxgEe6zL95jRs6BlA" name="increase" specification="_th-bwNxgEe6zL95jRs6BlA">
          <ownedParameter xmi:id="_tlmXh9xgEe6zL95jRs6BlA" name="time">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
          </ownedParameter>
          <language>java</language>
          <body>this.lockWriteAccess();&#xD;
&#xD;
		if(time != this.nextJump) {&#xD;
			throw new Exception(&quot;Unexpected time change&quot;);&#xD;
		}&#xD;
		this.time += time;&#xD;
		for(ClockObserver o:this.observers) {&#xD;
			o.clockChange(this.time);&#xD;
		}&#xD;
		this.unlockWriteAccess();&#xD;
	</body>
        </ownedBehavior>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tlm-kNxgEe6zL95jRs6BlA" name="lockReadAccess" specification="_th_C0NxgEe6zL95jRs6BlA">
          <language>java</language>
          <body>this.lock.readLock().lock();&#xD;
	</body>
        </ownedBehavior>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tlm-kdxgEe6zL95jRs6BlA" name="unlockReadAccess" specification="_th_C0dxgEe6zL95jRs6BlA">
          <language>java</language>
          <body>this.lock.readLock().unlock();&#xD;
	</body>
        </ownedBehavior>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tlm-ktxgEe6zL95jRs6BlA" name="lockWriteAccess" specification="_th_p4NxgEe6zL95jRs6BlA">
          <language>java</language>
          <body>this.lock.writeLock().lock();&#xD;
	</body>
        </ownedBehavior>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tlm-k9xgEe6zL95jRs6BlA" name="unlockWriteAccess" specification="_th_p4dxgEe6zL95jRs6BlA">
          <language>java</language>
          <body>this.lock.writeLock().unlock();		&#xD;
	</body>
        </ownedBehavior>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tlm-lNxgEe6zL95jRs6BlA" name="toString" specification="_tiAQ8NxgEe6zL95jRs6BlA">
          <ownedParameter xmi:id="_tlm-ldxgEe6zL95jRs6BlA" direction="return">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
          </ownedParameter>
          <language>java</language>
          <body>return &quot;&quot;+this.time;&#xD;
	</body>
        </ownedBehavior>
        <ownedOperation xmi:id="_th8mkNxgEe6zL95jRs6BlA" name="Clock" visibility="private" method="_tllwctxgEe6zL95jRs6BlA">
          <eAnnotations xmi:id="_th9NoNxgEe6zL95jRs6BlA" source="http://www.eclipse.org/uml2/2.0.0/UML">
            <details xmi:id="_th9NodxgEe6zL95jRs6BlA" key="create"/>
          </eAnnotations>
          <ownedParameter xmi:id="_th9NotxgEe6zL95jRs6BlA" type="_th48MNxgEe6zL95jRs6BlA" direction="return"/>
        </ownedOperation>
        <ownedOperation xmi:id="_th90sNxgEe6zL95jRs6BlA" name="setNextJump" method="_tlmXhNxgEe6zL95jRs6BlA">
          <ownedParameter xmi:id="_th90sdxgEe6zL95jRs6BlA" name="nextJump">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
          </ownedParameter>
        </ownedOperation>
        <ownedOperation xmi:id="_th-bwNxgEe6zL95jRs6BlA" name="increase" method="_tlmXhtxgEe6zL95jRs6BlA" raisedException="_tlK5sNxgEe6zL95jRs6BlA">
          <ownedParameter xmi:id="_th-bwdxgEe6zL95jRs6BlA" name="time">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
          </ownedParameter>
        </ownedOperation>
        <ownedOperation xmi:id="_th_C0NxgEe6zL95jRs6BlA" name="lockReadAccess" method="_tlm-kNxgEe6zL95jRs6BlA"/>
        <ownedOperation xmi:id="_th_C0dxgEe6zL95jRs6BlA" name="unlockReadAccess" method="_tlm-kdxgEe6zL95jRs6BlA"/>
        <ownedOperation xmi:id="_th_p4NxgEe6zL95jRs6BlA" name="lockWriteAccess" method="_tlm-ktxgEe6zL95jRs6BlA"/>
        <ownedOperation xmi:id="_th_p4dxgEe6zL95jRs6BlA" name="unlockWriteAccess" method="_tlm-k9xgEe6zL95jRs6BlA"/>
        <ownedOperation xmi:id="_tiAQ8NxgEe6zL95jRs6BlA" name="toString" method="_tlm-lNxgEe6zL95jRs6BlA">
          <ownedParameter xmi:id="_tiAQ8dxgEe6zL95jRs6BlA" direction="return">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
          </ownedParameter>
        </ownedOperation>
        <ownedOperation xmi:id="_tk2JkNxgEe6zL95jRs6BlA" name="addObserver" method="_tlmXgNxgEe6zL95jRs6BlA">
          <ownedParameter xmi:id="_tk2woNxgEe6zL95jRs6BlA" name="o" type="_tiEiYNxgEe6zL95jRs6BlA"/>
        </ownedOperation>
        <ownedOperation xmi:id="_tk2wodxgEe6zL95jRs6BlA" name="removeObserver" method="_tlmXgtxgEe6zL95jRs6BlA">
          <ownedParameter xmi:id="_tk2wotxgEe6zL95jRs6BlA" name="o" type="_tiEiYNxgEe6zL95jRs6BlA"/>
        </ownedOperation>
      </packagedElement>
      <packagedElement xmi:type="uml:Interface" xmi:id="_tiEiYNxgEe6zL95jRs6BlA" name="ClockObserver">
        <ownedOperation xmi:id="_tiGXkNxgEe6zL95jRs6BlA" name="clockChange">
          <ownedParameter xmi:id="_tiG-oNxgEe6zL95jRs6BlA" name="time">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
          </ownedParameter>
        </ownedOperation>
        <ownedOperation xmi:id="_tiG-odxgEe6zL95jRs6BlA" name="nextClockChange">
          <ownedParameter xmi:id="_tiG-otxgEe6zL95jRs6BlA" name="nextJump">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
          </ownedParameter>
        </ownedOperation>
      </packagedElement>
      <packagedElement xmi:type="uml:Class" xmi:id="_tiHlsNxgEe6zL95jRs6BlA" name="DiscreteActionSimulator">
        <ownedComment xmi:id="_tlqo8NxgEe6zL95jRs6BlA">
          <body>@author Tiphaine Bulou (2016)&#xD;
@author Flavien Vernier&#xD;
 *</body>
        </ownedComment>
        <ownedAttribute xmi:id="_tld0oNxgEe6zL95jRs6BlA" name="t" visibility="private" type="_tlRnYNxgEe6zL95jRs6BlA" association="_tlx9sdxgEe6zL95jRs6BlA"/>
        <ownedAttribute xmi:id="_tlebsdxgEe6zL95jRs6BlA" name="running" isReadOnly="true">
          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
          <defaultValue xmi:type="uml:LiteralString" xmi:id="_tlebs9xgEe6zL95jRs6BlA" value="false"/>
        </ownedAttribute>
        <ownedAttribute xmi:id="_tlfp0NxgEe6zL95jRs6BlA" name="globalTime" visibility="private" type="_th48MNxgEe6zL95jRs6BlA" association="_tlykwdxgEe6zL95jRs6BlA"/>
        <ownedAttribute xmi:id="_tlgQ4dxgEe6zL95jRs6BlA" name="actionsList" visibility="private" type="_tk7CEdxgEe6zL95jRs6BlA" association="_tlzL0dxgEe6zL95jRs6BlA">
          <defaultValue xmi:type="uml:LiteralString" xmi:id="_tlg38dxgEe6zL95jRs6BlA" value="new Vector&lt;>()"/>
        </ownedAttribute>
        <ownedAttribute xmi:id="_tlhfANxgEe6zL95jRs6BlA" name="nbLoop" visibility="private">
          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
        </ownedAttribute>
        <ownedAttribute xmi:id="_tlhfAtxgEe6zL95jRs6BlA" name="step" visibility="private">
          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
        </ownedAttribute>
        <ownedAttribute xmi:id="_tliGENxgEe6zL95jRs6BlA" name="logger" visibility="private" type="_tk-scdxgEe6zL95jRs6BlA" association="_tlzy4dxgEe6zL95jRs6BlA"/>
        <ownedAttribute xmi:id="_tlitINxgEe6zL95jRs6BlA" name="logFile" visibility="private" type="_tk9eUdxgEe6zL95jRs6BlA" association="_tl0Z8dxgEe6zL95jRs6BlA"/>
        <ownedAttribute xmi:id="_tlitItxgEe6zL95jRs6BlA" name="logConsole" visibility="private" type="_tk8QMNxgEe6zL95jRs6BlA" association="_tl1BAdxgEe6zL95jRs6BlA"/>
        <interfaceRealization xmi:id="_tlQZQdxgEe6zL95jRs6BlA" client="_tiHlsNxgEe6zL95jRs6BlA" supplier="_tlPLINxgEe6zL95jRs6BlA" contract="_tlPLINxgEe6zL95jRs6BlA"/>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tlnlotxgEe6zL95jRs6BlA" name="DiscreteActionSimulator" specification="_tiJa4NxgEe6zL95jRs6BlA">
          <ownedParameter xmi:id="_tlnlo9xgEe6zL95jRs6BlA" type="_tiHlsNxgEe6zL95jRs6BlA" direction="return"/>
          <language>java</language>
          <body>// Start logger&#xD;
		this.logger = Logger.getLogger(&quot;DAS&quot;);&#xD;
		//this.logger = Logger.getLogger(&quot;APP&quot;);&#xD;
		this.logger.setLevel(Level.ALL);&#xD;
		this.logger.setUseParentHandlers(true);&#xD;
		try{&#xD;
			this.logFile = new FileHandler(this.getClass().getName() + &quot;.log&quot;);&#xD;
			//this.logFile.setFormatter(new SimpleFormatter());&#xD;
			this.logFile.setFormatter(new LogFormatter());&#xD;
			this.logConsole = new ConsoleHandler();&#xD;
		}catch(Exception e){&#xD;
			e.printStackTrace();&#xD;
		}&#xD;
		this.logger.addHandler(logFile);&#xD;
		this.logger.addHandler(logConsole);&#xD;
		&#xD;
&#xD;
		this.globalTime = Clock.getInstance();&#xD;
		&#xD;
		this.t = new Thread(this);&#xD;
		this.t.setName(&quot;Discrete Action Simulator&quot;);&#xD;
	</body>
        </ownedBehavior>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tlnlpNxgEe6zL95jRs6BlA" name="setNbLoop" specification="_tiKpANxgEe6zL95jRs6BlA">
          <ownedParameter xmi:id="_tlnlpdxgEe6zL95jRs6BlA" name="nbLoop">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
          </ownedParameter>
          <language>java</language>
          <body>if(nbLoop>0){&#xD;
			this.nbLoop = nbLoop;&#xD;
			this.step = 1;&#xD;
		}else{ // running infinitely&#xD;
			this.nbLoop = 0;&#xD;
			this.step = -1;&#xD;
		}&#xD;
	</body>
        </ownedBehavior>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tloMsNxgEe6zL95jRs6BlA" name="addAction" specification="_tlTckNxgEe6zL95jRs6BlA">
          <ownedParameter xmi:id="_tloMsdxgEe6zL95jRs6BlA" name="c" type="_tk_6kdxgEe6zL95jRs6BlA"/>
          <language>java</language>
          <body>if(c.hasNext()) {&#xD;
			// add to list of actions, next is call to the action exist at the first time&#xD;
			this.actionsList.add(c.next());&#xD;
&#xD;
			// sort the list for ordered execution &#xD;
			Collections.sort(this.actionsList);&#xD;
		}&#xD;
	</body>
        </ownedBehavior>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tloMstxgEe6zL95jRs6BlA" name="nextLapsTime" specification="_tiLQENxgEe6zL95jRs6BlA">
          <ownedParameter xmi:id="_tloMs9xgEe6zL95jRs6BlA" direction="return">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
          </ownedParameter>
          <language>java</language>
          <body>DiscreteActionInterface currentAction = this.actionsList.get(0);&#xD;
		return currentAction.getCurrentLapsTime();&#xD;
	</body>
        </ownedBehavior>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tloMtNxgEe6zL95jRs6BlA" name="runAction" specification="_tiL3INxgEe6zL95jRs6BlA">
          <ownedParameter xmi:id="_tloMtdxgEe6zL95jRs6BlA" direction="return">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
          </ownedParameter>
          <language>java</language>
          <body>// Run the first action&#xD;
		int sleepTime = 0;&#xD;
&#xD;
&#xD;
		// TODO Manage parallel execution !  &#xD;
		DiscreteActionInterface currentAction = this.actionsList.get(0);&#xD;
		Object o = currentAction.getObject();&#xD;
		Method m = currentAction.getMethod();&#xD;
		sleepTime = currentAction.getCurrentLapsTime();&#xD;
		&#xD;
		try {&#xD;
			//Thread.sleep(sleepTime); // Real time can be very slow&#xD;
			Thread.yield();&#xD;
			//Thread.sleep(1000); // Wait message bus sends&#xD;
			if(this.globalTime!=null) {&#xD;
				this.globalTime.increase(sleepTime);&#xD;
			}&#xD;
			m.invoke(o);&#xD;
			if(this.globalTime!=null) {&#xD;
				this.logger.log(Level.FINE, &quot;[DAS] run action &quot; + m.getName() + &quot; on &quot; + o.getClass().getName() + &quot;:&quot; + o.hashCode() + &quot; at &quot; + this.globalTime.getTime() + &quot; after &quot; + sleepTime + &quot; time units\n&quot;);&#xD;
				System.out.println(&quot;[DAS] run action &quot; + m.getName() + &quot; on &quot; + o.getClass().getName() + &quot;:&quot; + o.hashCode() + &quot; at &quot; + this.globalTime.getTime() + &quot; after &quot; + sleepTime + &quot; time units\n&quot;);&#xD;
			}else {&#xD;
				this.logger.log(Level.FINE, &quot;[DAS] run action &quot; + m.getName() + &quot; on &quot; + o.getClass().getName() + &quot;:&quot; + o.hashCode() + &quot; after &quot; + sleepTime + &quot; time units\n&quot;);&#xD;
				System.out.println(&quot;[DAS] run action &quot; + m.getName() + &quot; on &quot; + o.getClass().getName() + &quot;:&quot; + o.hashCode() + &quot; after &quot; + sleepTime + &quot; time units\n&quot;);&#xD;
			&#xD;
			}&#xD;
			&#xD;
		}catch (Exception e) {&#xD;
			e.printStackTrace();&#xD;
		}&#xD;
&#xD;
		return sleepTime;&#xD;
	</body>
        </ownedBehavior>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tlozwNxgEe6zL95jRs6BlA" name="updateTimes" specification="_tiL3ItxgEe6zL95jRs6BlA">
          <ownedParameter xmi:id="_tlozwdxgEe6zL95jRs6BlA" name="runningTimeOf1stCapsul">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
          </ownedParameter>
          <language>java</language>
          <body>// update time laps off all actions&#xD;
		for(int i=1 ; i &lt; this.actionsList.size(); i++){&#xD;
			//int d = this.actionsList.get(i).getLapsTime();&#xD;
			//this.actionsList.get(i).setLapsTemps(d- runningTimeOf1stCapsul);&#xD;
			this.actionsList.get(i).spendTime(runningTimeOf1stCapsul);&#xD;
		}&#xD;
&#xD;
		// get new time lapse of first action&#xD;
		/*if(this.globalTime == null) {&#xD;
			this.actionsList.get(0).updateTimeLaps();&#xD;
		}else {	&#xD;
			this.actionsList.get(0).updateTimeLaps(this.globalTime.getTime());&#xD;
		}&#xD;
		&#xD;
		// remove the action if no more lapse time is defined&#xD;
		if(this.actionsList.get(0).getLastLapsTime() == null) {&#xD;
			this.actionsList.remove(0);&#xD;
		}else {&#xD;
			// resort the list&#xD;
			Collections.sort(this.actionsList);&#xD;
		}*/&#xD;
&#xD;
		DiscreteActionInterface a = this.actionsList.remove(0);&#xD;
		if(a.hasNext()) {&#xD;
			a = a.next();&#xD;
			this.actionsList.addElement(a);&#xD;
			if(this.globalTime!=null) {&#xD;
				this.logger.log(Level.FINE, &quot;[DAS] reset action &quot; + a.getMethod().getName() + &quot; on &quot; + a.getObject().getClass().getName() + &quot;:&quot; + a.getObject().hashCode() + &quot; at &quot; + this.globalTime.getTime() + &quot; to &quot; + a.getCurrentLapsTime() + &quot; time units\n&quot;);&#xD;
				System.out.println(&quot;[DAS] reset action &quot; + a.getMethod().getName() + &quot; on &quot; + a.getObject().getClass().getName() + &quot;:&quot; + a.getObject().hashCode() + &quot; at &quot; + this.globalTime.getTime() + &quot; to &quot; + a.getCurrentLapsTime() + &quot; time units\n&quot;);&#xD;
			}else {&#xD;
				this.logger.log(Level.FINE, &quot;[DAS] reset action &quot; + a.getMethod().getName() + &quot; on &quot; + a.getObject().getClass().getName() + &quot;:&quot; + a.getObject().hashCode() + &quot; to &quot; + a.getCurrentLapsTime() + &quot; time units\n&quot;);&#xD;
				System.out.println(&quot;[DAS] reset action &quot; + a.getMethod().getName() + &quot; on &quot; + a.getObject().getClass().getName() + &quot;:&quot; + a.getObject().hashCode() + &quot; to &quot; + a.getCurrentLapsTime() + &quot; time units\n&quot;);&#xD;
			}&#xD;
			Collections.sort(this.actionsList);&#xD;
		}&#xD;
	</body>
        </ownedBehavior>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tlozwtxgEe6zL95jRs6BlA" name="run" specification="_tiMeMNxgEe6zL95jRs6BlA">
          <language>java</language>
          <body>int count = this.nbLoop;&#xD;
		boolean finished = false;&#xD;
&#xD;
		System.out.println(&quot;LANCEMENT DU THREAD &quot; + t.getName() + &quot; \n&quot;);&#xD;
&#xD;
		while(running &amp;&amp; !finished){&#xD;
&#xD;
			if(!this.actionsList.isEmpty()){&#xD;
				System.out.println(this);&#xD;
				this.globalTime.setNextJump(this.nextLapsTime());&#xD;
				&#xD;
				this.globalTime.lockWriteAccess();&#xD;
				int runningTime = this.runAction();&#xD;
				this.updateTimes(runningTime);&#xD;
				this.globalTime.unlockWriteAccess();&#xD;
				try {&#xD;
					Thread.sleep(100);&#xD;
				}catch(Exception e) {&#xD;
					e.printStackTrace();&#xD;
				}&#xD;
				//TODO add global time synchronizer for action with list of date and avoid drift &#xD;
			}else{&#xD;
				System.out.println(&quot;NOTHING TO DO\n&quot;);&#xD;
				this.stop();&#xD;
			}&#xD;
&#xD;
			count -= this.step;&#xD;
			if(count&lt;=0) {&#xD;
				finished = true;&#xD;
			}&#xD;
		}&#xD;
		this.running = false;&#xD;
		if(this.step>0) {&#xD;
			System.out.println(&quot;DAS: &quot; + (this.nbLoop - count) + &quot; actions done for &quot; + this.nbLoop + &quot; turns asked.&quot;);&#xD;
		}else {&#xD;
			System.out.println(&quot;DAS: &quot; + (count) + &quot; actions done!&quot;);			&#xD;
		}&#xD;
	</body>
        </ownedBehavior>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tlozw9xgEe6zL95jRs6BlA" name="start" specification="_tiMeMdxgEe6zL95jRs6BlA">
          <language>java</language>
          <body>this.running = true;&#xD;
		this.t.start();&#xD;
	</body>
        </ownedBehavior>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tlozxNxgEe6zL95jRs6BlA" name="stop" specification="_tiMeMtxgEe6zL95jRs6BlA">
          <language>java</language>
          <body>System.out.println(&quot;STOP THREAD &quot; + t.getName() + &quot;obj &quot; + this);&#xD;
		this.running = false;&#xD;
	</body>
        </ownedBehavior>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tlozxdxgEe6zL95jRs6BlA" name="toString" specification="_tiMeM9xgEe6zL95jRs6BlA">
          <ownedParameter xmi:id="_tlozxtxgEe6zL95jRs6BlA" direction="return">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
          </ownedParameter>
          <language>java</language>
          <body>StringBuffer toS = new StringBuffer(&quot;------------------\nTestAuto :&quot; + this.actionsList.size());&#xD;
		for(DiscreteActionInterface c : this.actionsList){&#xD;
			toS.append(c.toString() + &quot;\n&quot;);&#xD;
		}&#xD;
		toS.append(&quot;---------------------\n&quot;);&#xD;
		return toS.toString();&#xD;
	</body>
        </ownedBehavior>
        <ownedOperation xmi:id="_tiJa4NxgEe6zL95jRs6BlA" name="DiscreteActionSimulator" method="_tlnlotxgEe6zL95jRs6BlA">
          <eAnnotations xmi:id="_tiKB8NxgEe6zL95jRs6BlA" source="http://www.eclipse.org/uml2/2.0.0/UML">
            <details xmi:id="_tiKB8dxgEe6zL95jRs6BlA" key="create"/>
          </eAnnotations>
          <ownedParameter xmi:id="_tiKB8txgEe6zL95jRs6BlA" type="_tiHlsNxgEe6zL95jRs6BlA" direction="return"/>
        </ownedOperation>
        <ownedOperation xmi:id="_tiKpANxgEe6zL95jRs6BlA" name="setNbLoop" method="_tlnlpNxgEe6zL95jRs6BlA">
          <ownedComment xmi:id="_tlrQANxgEe6zL95jRs6BlA">
            <body>@param nbLoop defines the number of loop for the simulation, the simulation is infinite if nbLoop is negative or 0.</body>
          </ownedComment>
          <ownedParameter xmi:id="_tiKpAdxgEe6zL95jRs6BlA" name="nbLoop">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
          </ownedParameter>
        </ownedOperation>
        <ownedOperation xmi:id="_tiLQENxgEe6zL95jRs6BlA" name="nextLapsTime" visibility="private" method="_tloMstxgEe6zL95jRs6BlA">
          <ownedComment xmi:id="_tlrQAdxgEe6zL95jRs6BlA">
            <body>@return the laps time before the next action</body>
          </ownedComment>
          <ownedParameter xmi:id="_tiLQEdxgEe6zL95jRs6BlA" direction="return">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
          </ownedParameter>
        </ownedOperation>
        <ownedOperation xmi:id="_tiL3INxgEe6zL95jRs6BlA" name="runAction" visibility="private" method="_tloMtNxgEe6zL95jRs6BlA">
          <ownedComment xmi:id="_tlrQAtxgEe6zL95jRs6BlA">
            <body>@return laps time of the running action</body>
          </ownedComment>
          <ownedParameter xmi:id="_tiL3IdxgEe6zL95jRs6BlA" direction="return">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
          </ownedParameter>
        </ownedOperation>
        <ownedOperation xmi:id="_tiL3ItxgEe6zL95jRs6BlA" name="updateTimes" visibility="private" method="_tlozwNxgEe6zL95jRs6BlA">
          <ownedParameter xmi:id="_tiL3I9xgEe6zL95jRs6BlA" name="runningTimeOf1stCapsul">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
          </ownedParameter>
        </ownedOperation>
        <ownedOperation xmi:id="_tiMeMNxgEe6zL95jRs6BlA" name="run" method="_tlozwtxgEe6zL95jRs6BlA"/>
        <ownedOperation xmi:id="_tiMeMdxgEe6zL95jRs6BlA" name="start" method="_tlozw9xgEe6zL95jRs6BlA"/>
        <ownedOperation xmi:id="_tiMeMtxgEe6zL95jRs6BlA" name="stop" method="_tlozxNxgEe6zL95jRs6BlA"/>
        <ownedOperation xmi:id="_tiMeM9xgEe6zL95jRs6BlA" name="toString" method="_tlozxdxgEe6zL95jRs6BlA">
          <ownedParameter xmi:id="_tiNFQNxgEe6zL95jRs6BlA" direction="return">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
          </ownedParameter>
        </ownedOperation>
        <ownedOperation xmi:id="_tlTckNxgEe6zL95jRs6BlA" name="addAction" method="_tloMsNxgEe6zL95jRs6BlA">
          <ownedParameter xmi:id="_tlUDoNxgEe6zL95jRs6BlA" name="c" type="_tk_6kdxgEe6zL95jRs6BlA"/>
        </ownedOperation>
      </packagedElement>
      <packagedElement xmi:type="uml:Class" xmi:id="_tiSk0NxgEe6zL95jRs6BlA" name="LogFormatter">
        <ownedComment xmi:id="_tlrQA9xgEe6zL95jRs6BlA">
          <body>@author Flavien Vernier&#xD;
 *</body>
        </ownedComment>
        <generalization xmi:id="_tlV409xgEe6zL95jRs6BlA" general="_tlEzEdxgEe6zL95jRs6BlA"/>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tlpa0NxgEe6zL95jRs6BlA" name="format" specification="_tlVRwNxgEe6zL95jRs6BlA">
          <ownedParameter xmi:id="_tlpa0dxgEe6zL95jRs6BlA" name="rec" type="_tlGoQdxgEe6zL95jRs6BlA"/>
          <ownedParameter xmi:id="_tlpa0txgEe6zL95jRs6BlA" direction="return">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
          </ownedParameter>
          <language>java</language>
          <body>StringBuffer buf = new StringBuffer();&#xD;
		&#xD;
		buf.append(calcDate(rec.getMillis()));&#xD;
		buf.append(&quot;: &quot;);&#xD;
		buf.append(rec.getLevel());&#xD;
		buf.append(System.getProperty(&quot;line.separator&quot;));&#xD;
		buf.append(formatMessage(rec));&#xD;
		buf.append(System.getProperty(&quot;line.separator&quot;));&#xD;
		&#xD;
		return buf.toString();&#xD;
	</body>
        </ownedBehavior>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tlpa09xgEe6zL95jRs6BlA" name="calcDate" specification="_tiUaANxgEe6zL95jRs6BlA">
          <ownedParameter xmi:id="_tlpa1NxgEe6zL95jRs6BlA" name="millisecs">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
          </ownedParameter>
          <ownedParameter xmi:id="_tlpa1dxgEe6zL95jRs6BlA" direction="return">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
          </ownedParameter>
          <language>java</language>
          <body>SimpleDateFormat date_format = new SimpleDateFormat(&quot;yyyy.MM.dd HH:mm:ss.SS&quot;);&#xD;
	    Date resultdate = new Date(millisecs);&#xD;
	    return date_format.format(resultdate);&#xD;
	  </body>
        </ownedBehavior>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tlqB4NxgEe6zL95jRs6BlA" name="getHead" specification="_tlVRw9xgEe6zL95jRs6BlA">
          <ownedParameter xmi:id="_tlqB4dxgEe6zL95jRs6BlA" name="h" type="_tlFaIdxgEe6zL95jRs6BlA"/>
          <ownedParameter xmi:id="_tlqB4txgEe6zL95jRs6BlA" direction="return">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
          </ownedParameter>
          <language>java</language>
          <body>return &quot;&quot;;&#xD;
	  </body>
        </ownedBehavior>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_tlqB49xgEe6zL95jRs6BlA" name="getTail" specification="_tlV40NxgEe6zL95jRs6BlA">
          <ownedParameter xmi:id="_tlqB5NxgEe6zL95jRs6BlA" name="h" type="_tlFaIdxgEe6zL95jRs6BlA"/>
          <ownedParameter xmi:id="_tlqB5dxgEe6zL95jRs6BlA" direction="return">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
          </ownedParameter>
          <language>java</language>
          <body>return &quot;&quot;;&#xD;
	  </body>
        </ownedBehavior>
        <ownedOperation xmi:id="_tiUaANxgEe6zL95jRs6BlA" name="calcDate" visibility="private" method="_tlpa09xgEe6zL95jRs6BlA">
          <ownedParameter xmi:id="_tiUaAdxgEe6zL95jRs6BlA" name="millisecs">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
          </ownedParameter>
          <ownedParameter xmi:id="_tiVBENxgEe6zL95jRs6BlA" direction="return">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
          </ownedParameter>
        </ownedOperation>
        <ownedOperation xmi:id="_tlVRwNxgEe6zL95jRs6BlA" name="format" method="_tlpa0NxgEe6zL95jRs6BlA">
          <ownedParameter xmi:id="_tlVRwdxgEe6zL95jRs6BlA" name="rec" type="_tlGoQdxgEe6zL95jRs6BlA"/>
          <ownedParameter xmi:id="_tlVRwtxgEe6zL95jRs6BlA" direction="return">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
          </ownedParameter>
        </ownedOperation>
        <ownedOperation xmi:id="_tlVRw9xgEe6zL95jRs6BlA" name="getHead" method="_tlqB4NxgEe6zL95jRs6BlA">
          <ownedParameter xmi:id="_tlVRxNxgEe6zL95jRs6BlA" name="h" type="_tlFaIdxgEe6zL95jRs6BlA"/>
          <ownedParameter xmi:id="_tlVRxdxgEe6zL95jRs6BlA" direction="return">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
          </ownedParameter>
        </ownedOperation>
        <ownedOperation xmi:id="_tlV40NxgEe6zL95jRs6BlA" name="getTail" method="_tlqB49xgEe6zL95jRs6BlA">
          <ownedParameter xmi:id="_tlV40dxgEe6zL95jRs6BlA" name="h" type="_tlFaIdxgEe6zL95jRs6BlA"/>
          <ownedParameter xmi:id="_tlV40txgEe6zL95jRs6BlA" direction="return">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
          </ownedParameter>
        </ownedOperation>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_tlvhcNxgEe6zL95jRs6BlA" name="" memberEnd="_tlvhcdxgEe6zL95jRs6BlA _tlXuANxgEe6zL95jRs6BlA">
        <ownedEnd xmi:id="_tlvhcdxgEe6zL95jRs6BlA" name="" type="_th48MNxgEe6zL95jRs6BlA" association="_tlvhcNxgEe6zL95jRs6BlA"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_tlwvkdxgEe6zL95jRs6BlA" name="" memberEnd="_tlwvktxgEe6zL95jRs6BlA _tlb_cNxgEe6zL95jRs6BlA">
        <ownedEnd xmi:id="_tlwvktxgEe6zL95jRs6BlA" name="" type="_th48MNxgEe6zL95jRs6BlA" association="_tlwvkdxgEe6zL95jRs6BlA"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_tlxWodxgEe6zL95jRs6BlA" name="" memberEnd="_tlxWotxgEe6zL95jRs6BlA _tlcmgNxgEe6zL95jRs6BlA">
        <ownedEnd xmi:id="_tlxWotxgEe6zL95jRs6BlA" name="" type="_th48MNxgEe6zL95jRs6BlA" association="_tlxWodxgEe6zL95jRs6BlA"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_tlx9sdxgEe6zL95jRs6BlA" name="" memberEnd="_tlx9stxgEe6zL95jRs6BlA _tld0oNxgEe6zL95jRs6BlA">
        <ownedEnd xmi:id="_tlx9stxgEe6zL95jRs6BlA" name="" type="_tiHlsNxgEe6zL95jRs6BlA" association="_tlx9sdxgEe6zL95jRs6BlA"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_tlykwdxgEe6zL95jRs6BlA" name="" memberEnd="_tlykwtxgEe6zL95jRs6BlA _tlfp0NxgEe6zL95jRs6BlA">
        <ownedEnd xmi:id="_tlykwtxgEe6zL95jRs6BlA" name="" type="_tiHlsNxgEe6zL95jRs6BlA" association="_tlykwdxgEe6zL95jRs6BlA"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_tlzL0dxgEe6zL95jRs6BlA" name="" memberEnd="_tlzL0txgEe6zL95jRs6BlA _tlgQ4dxgEe6zL95jRs6BlA">
        <ownedEnd xmi:id="_tlzL0txgEe6zL95jRs6BlA" name="" type="_tiHlsNxgEe6zL95jRs6BlA" association="_tlzL0dxgEe6zL95jRs6BlA"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_tlzy4dxgEe6zL95jRs6BlA" name="" memberEnd="_tlzy4txgEe6zL95jRs6BlA _tliGENxgEe6zL95jRs6BlA">
        <ownedEnd xmi:id="_tlzy4txgEe6zL95jRs6BlA" name="" type="_tiHlsNxgEe6zL95jRs6BlA" association="_tlzy4dxgEe6zL95jRs6BlA"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_tl0Z8dxgEe6zL95jRs6BlA" name="" memberEnd="_tl0Z8txgEe6zL95jRs6BlA _tlitINxgEe6zL95jRs6BlA">
        <ownedEnd xmi:id="_tl0Z8txgEe6zL95jRs6BlA" name="" type="_tiHlsNxgEe6zL95jRs6BlA" association="_tl0Z8dxgEe6zL95jRs6BlA"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_tl1BAdxgEe6zL95jRs6BlA" name="" memberEnd="_tl1BAtxgEe6zL95jRs6BlA _tlitItxgEe6zL95jRs6BlA">
        <ownedEnd xmi:id="_tl1BAtxgEe6zL95jRs6BlA" name="" type="_tiHlsNxgEe6zL95jRs6BlA" association="_tl1BAdxgEe6zL95jRs6BlA"/>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_thhIwNxgEe6zL95jRs6BlA" name="action">
      <packagedElement xmi:type="uml:Class" xmi:id="_tk_TgdxgEe6zL95jRs6BlA" name="DiscreteAction"/>
      <packagedElement xmi:type="uml:Interface" xmi:id="_tk_6kdxgEe6zL95jRs6BlA" name="DiscreteActionInterface"/>
    </packagedElement>
    <profileApplication xmi:id="_tWwDMNxgEe6zL95jRs6BlA">
      <eAnnotations xmi:id="_tWwqQNxgEe6zL95jRs6BlA" source="http://www.eclipse.org/uml2/2.0.0/UML">
        <references xmi:type="ecore:EPackage" href="pathmap://UMLLAB_PROFILES/UMLLab.profile.uml#UMLLabProfile-Annotation_2-UMLLabProfile"/>
      </eAnnotations>
      <appliedProfile href="pathmap://UMLLAB_PROFILES/UMLLab.profile.uml#UMLLabProfile"/>
    </profileApplication>
  </uml:Model>
  <UMLLabProfile:TargetLanguage xmi:id="_tWxRUNxgEe6zL95jRs6BlA" base_Package="_tMrhMNxgEe6zL95jRs6BlA">
    <languageName>java</languageName>
  </UMLLabProfile:TargetLanguage>
  <UMLLabProfile:Reference xmi:id="_tkztUNxgEe6zL95jRs6BlA" base_Element="_tkx4INxgEe6zL95jRs6BlA"/>
  <UMLLabProfile:Reference xmi:id="_tk0UYNxgEe6zL95jRs6BlA" base_Element="_tkztUdxgEe6zL95jRs6BlA"/>
  <UMLLabProfile:Reference xmi:id="_tk07cNxgEe6zL95jRs6BlA" base_Element="_tk0UYdxgEe6zL95jRs6BlA"/>
  <UMLLabProfile:Reference xmi:id="_tk1igNxgEe6zL95jRs6BlA" base_Element="_tk07cdxgEe6zL95jRs6BlA"/>
  <UMLLabProfile:Reference xmi:id="_tk5z8NxgEe6zL95jRs6BlA" base_Element="_tk5M4NxgEe6zL95jRs6BlA"/>
  <UMLLabProfile:Reference xmi:id="_tk7CENxgEe6zL95jRs6BlA" base_Element="_tk6bANxgEe6zL95jRs6BlA"/>
  <UMLLabProfile:Reference xmi:id="_tk7pINxgEe6zL95jRs6BlA" base_Element="_tk7CEdxgEe6zL95jRs6BlA"/>
  <UMLLabProfile:Reference xmi:id="_tk9eUNxgEe6zL95jRs6BlA" base_Element="_tk8QMNxgEe6zL95jRs6BlA"/>
  <UMLLabProfile:Reference xmi:id="_tk-FYNxgEe6zL95jRs6BlA" base_Element="_tk9eUdxgEe6zL95jRs6BlA"/>
  <UMLLabProfile:Reference xmi:id="_tk-scNxgEe6zL95jRs6BlA" base_Element="_tk-FYdxgEe6zL95jRs6BlA"/>
  <UMLLabProfile:Reference xmi:id="_tk_TgNxgEe6zL95jRs6BlA" base_Element="_tk-scdxgEe6zL95jRs6BlA"/>
  <UMLLabProfile:Reference xmi:id="_tk_6kNxgEe6zL95jRs6BlA" base_Element="_tk_TgdxgEe6zL95jRs6BlA"/>
  <UMLLabProfile:Reference xmi:id="_tk_6ktxgEe6zL95jRs6BlA" base_Element="_tk_6kdxgEe6zL95jRs6BlA"/>
  <UMLLabProfile:Reference xmi:id="_tlEzENxgEe6zL95jRs6BlA" base_Element="_tlEMANxgEe6zL95jRs6BlA"/>
  <UMLLabProfile:Reference xmi:id="_tlFaINxgEe6zL95jRs6BlA" base_Element="_tlEzEdxgEe6zL95jRs6BlA"/>
  <UMLLabProfile:Reference xmi:id="_tlGoQNxgEe6zL95jRs6BlA" base_Element="_tlFaIdxgEe6zL95jRs6BlA"/>
  <UMLLabProfile:Reference xmi:id="_tlHPUNxgEe6zL95jRs6BlA" base_Element="_tlGoQdxgEe6zL95jRs6BlA"/>
  <UMLLabProfile:Reference xmi:id="_tlLgwNxgEe6zL95jRs6BlA" base_Element="_tlK5sNxgEe6zL95jRs6BlA"/>
  <UMLLabProfile:Reference xmi:id="_tlQZQNxgEe6zL95jRs6BlA" base_Element="_tlPLINxgEe6zL95jRs6BlA"/>
  <UMLLabProfile:Reference xmi:id="_tlSOcNxgEe6zL95jRs6BlA" base_Element="_tlRnYNxgEe6zL95jRs6BlA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tlYVENxgEe6zL95jRs6BlA" base_Element="_tlXuANxgEe6zL95jRs6BlA">
    <associatedElement xmi:type="uml:Operation" xmi:id="_tlY8INxgEe6zL95jRs6BlA" name="getInstance" isStatic="true" method="_tlkiUNxgEe6zL95jRs6BlA">
      <ownedParameter xmi:id="_tlZjMNxgEe6zL95jRs6BlA" type="_th48MNxgEe6zL95jRs6BlA" direction="return"/>
    </associatedElement>
  </UMLLabProfile:LegacyStyledElement>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tlaKQNxgEe6zL95jRs6BlA" base_Element="_tlZjMdxgEe6zL95jRs6BlA">
    <associatedElement xmi:type="uml:Operation" xmi:id="_tlaxUNxgEe6zL95jRs6BlA" name="getTime" method="_tllwcNxgEe6zL95jRs6BlA">
      <ownedParameter xmi:id="_tlaxUdxgEe6zL95jRs6BlA" direction="return">
        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
      </ownedParameter>
    </associatedElement>
  </UMLLabProfile:LegacyStyledElement>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tlbYYNxgEe6zL95jRs6BlA" base_Element="_tlaxUtxgEe6zL95jRs6BlA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tlb_cdxgEe6zL95jRs6BlA" base_Element="_tlb_cNxgEe6zL95jRs6BlA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tldNkNxgEe6zL95jRs6BlA" base_Element="_tlcmgNxgEe6zL95jRs6BlA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tlebsNxgEe6zL95jRs6BlA" base_Element="_tld0oNxgEe6zL95jRs6BlA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tlebstxgEe6zL95jRs6BlA" base_Element="_tlebsdxgEe6zL95jRs6BlA">
    <associatedElement xmi:type="uml:Operation" xmi:id="_tlfCwNxgEe6zL95jRs6BlA" name="getRunning" method="_tlnloNxgEe6zL95jRs6BlA">
      <ownedParameter xmi:id="_tlfCwdxgEe6zL95jRs6BlA" direction="return">
        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
      </ownedParameter>
    </associatedElement>
  </UMLLabProfile:LegacyStyledElement>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tlgQ4NxgEe6zL95jRs6BlA" base_Element="_tlfp0NxgEe6zL95jRs6BlA"/>
  <UMLLabProfile:Generics xmi:id="_tlg38NxgEe6zL95jRs6BlA" genericsValue="DiscreteActionInterface" base_Element="_tlgQ4dxgEe6zL95jRs6BlA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tlg38txgEe6zL95jRs6BlA" base_Element="_tlgQ4dxgEe6zL95jRs6BlA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tlhfAdxgEe6zL95jRs6BlA" base_Element="_tlhfANxgEe6zL95jRs6BlA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tlhfA9xgEe6zL95jRs6BlA" base_Element="_tlhfAtxgEe6zL95jRs6BlA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tliGEdxgEe6zL95jRs6BlA" base_Element="_tliGENxgEe6zL95jRs6BlA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tlitIdxgEe6zL95jRs6BlA" base_Element="_tlitINxgEe6zL95jRs6BlA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_tljUMNxgEe6zL95jRs6BlA" base_Element="_tlitItxgEe6zL95jRs6BlA"/>
  <uml:OpaqueBehavior xmi:id="_tlkiUNxgEe6zL95jRs6BlA" name="getInstance" specification="_tlY8INxgEe6zL95jRs6BlA">
    <ownedParameter xmi:id="_tllJYNxgEe6zL95jRs6BlA" type="_th48MNxgEe6zL95jRs6BlA" direction="return"/>
    <language>java</language>
    <body>if (Clock.instance == null) {&#xD;
			Clock.instance = new Clock();&#xD;
		}&#xD;
		return Clock.instance;&#xD;
	</body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="_tllwcNxgEe6zL95jRs6BlA" name="getTime" specification="_tlaxUNxgEe6zL95jRs6BlA">
    <ownedParameter xmi:id="_tllwcdxgEe6zL95jRs6BlA" direction="return">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
    </ownedParameter>
    <language>java</language>
    <body>if(this.virtual) {&#xD;
			return this.time;&#xD;
		}else {&#xD;
			return new Date().getTime();&#xD;
		}&#xD;
	</body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="_tlnloNxgEe6zL95jRs6BlA" name="getRunning" specification="_tlfCwNxgEe6zL95jRs6BlA">
    <ownedParameter xmi:id="_tlnlodxgEe6zL95jRs6BlA" direction="return">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
    </ownedParameter>
    <language>java</language>
    <body>return this.running;&#xD;
	</body>
  </uml:OpaqueBehavior>
  <UMLLabProfile:Reference xmi:id="_tlwvkNxgEe6zL95jRs6BlA" base_Element="_tlvhcNxgEe6zL95jRs6BlA"/>
  <UMLLabProfile:Reference xmi:id="_tlxWoNxgEe6zL95jRs6BlA" base_Element="_tlwvkdxgEe6zL95jRs6BlA"/>
  <UMLLabProfile:Reference xmi:id="_tlx9sNxgEe6zL95jRs6BlA" base_Element="_tlxWodxgEe6zL95jRs6BlA"/>
  <UMLLabProfile:Reference xmi:id="_tlykwNxgEe6zL95jRs6BlA" base_Element="_tlx9sdxgEe6zL95jRs6BlA"/>
  <UMLLabProfile:Reference xmi:id="_tlzL0NxgEe6zL95jRs6BlA" base_Element="_tlykwdxgEe6zL95jRs6BlA"/>
  <UMLLabProfile:Reference xmi:id="_tlzy4NxgEe6zL95jRs6BlA" base_Element="_tlzL0dxgEe6zL95jRs6BlA"/>
  <UMLLabProfile:Reference xmi:id="_tl0Z8NxgEe6zL95jRs6BlA" base_Element="_tlzy4dxgEe6zL95jRs6BlA"/>
  <UMLLabProfile:Reference xmi:id="_tl1BANxgEe6zL95jRs6BlA" base_Element="_tl0Z8dxgEe6zL95jRs6BlA"/>
  <UMLLabProfile:Reference xmi:id="_tl1BA9xgEe6zL95jRs6BlA" base_Element="_tl1BAdxgEe6zL95jRs6BlA"/>
</xmi:XMI>
